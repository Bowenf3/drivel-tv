(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{11:function(e,t,c){},134:function(e,t,c){"use strict";c.r(t);var a=c(0),s=c(1),n=c.n(s),r=c(37),i=c.n(r),l=(c(70),c(9)),o=c.n(l),b=c(17),j=c(5),d=c(23),u=c(3),h=(c(72),c(11),c.p+"static/media/home.b0189fdb.svg"),O=c.p+"static/media/profile.8cab7b59.svg",x=c.p+"static/media/broadcast.c97e2295.svg",p=c.p+"static/media/delete.e4efcb06.svg",m=c.p+"static/media/log-out.98d53023.svg",v=c.p+"static/media/search.89cca97b.svg",g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUM4NjRGRjAyMDJFMTFFQjhFODJDRDNBM0YyNEI4QzEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUM4NjRGRUYyMDJFMTFFQjhFODJDRDNBM0YyNEI4QzEiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTU2MEZFM0MyREM2MTFFOTlGMDlCN0EwRTI4REM0REYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MTU2MEZFM0QyREM2MTFFOTlGMDlCN0EwRTI4REM0REYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6XTC+0AAAA+VBMVEWwsLCu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",f=c(59);c(90);var y=function(){return Object(a.jsxs)("header",{children:[Object(a.jsx)("p",{className:"logo-text",children:"Drivel.TV"}),Object(a.jsx)("div",{className:"search",children:Object(a.jsxs)("form",{className:"search-form",children:[Object(a.jsx)("input",{className:"search-input",type:"text",placeholder:"Find broadcast..."}),Object(a.jsx)("button",{className:"search-button",children:Object(a.jsx)("img",{className:"search-icon",src:v,alt:""})})]})}),Object(a.jsxs)("div",{className:"menu-container",children:[Object(a.jsx)("button",{className:"live-button",onClick:function(){window.location.reload()},children:"JUMP TO LIVE"}),Object(a.jsx)("img",{className:"profile-icon",src:g,alt:""}),Object(a.jsxs)(f.slide,{right:!0,children:[Object(a.jsxs)("a",{id:"home",className:"menu-item",href:"/",children:[Object(a.jsx)("img",{src:h,alt:""}),"Home"]}),Object(a.jsxs)("a",{id:"profile",className:"menu-item",href:"/profile",children:[Object(a.jsx)("img",{src:O,alt:""}),"Profile"]}),Object(a.jsxs)("a",{id:"create-broadcast",className:"menu-item",href:"/create-broadcast",children:[Object(a.jsx)("img",{src:x,alt:""}),"Create broadcast"]}),Object(a.jsxs)("a",{id:"delete-broadcast",className:"menu-item",href:"/delete-broadcast",children:[Object(a.jsx)("img",{src:p,alt:""}),"Delete broadcast"]}),Object(a.jsxs)("a",{id:"log-out",className:"menu-item",href:"/log-out",children:[Object(a.jsx)("img",{src:m,alt:""}),"Log out"]})]})]})]})};var A=function(e){return Object(u.f)(),Object(a.jsxs)("div",{className:"broadcast-tile",children:[Object(a.jsx)("div",{className:"broadcast-thumb",style:{background:"url('".concat(e.broadcast.thumbnailUrl,"') center no-repeat "),backgroundSize:"cover"}}),Object(a.jsxs)("div",{className:"broadcast-details",children:[Object(a.jsx)("div",{className:"broadcast-profilepic",children:Object(a.jsx)("img",{src:g,alt:""})}),Object(a.jsxs)("div",{className:"broadcast-title-owner",children:[Object(a.jsx)("h3",{children:e.broadcast.title}),Object(a.jsx)("p",{children:e.broadcast.owner})]})]})]})};var w=function(e){return Object(s.useEffect)((function(){e.getAllBroadcasts()}),[]),Object(a.jsx)("div",{className:"homepage",children:e.allBroadcasts.map((function(e){return Object(a.jsx)(A,{broadcast:e})}))})},C=c(40),I=c.n(C);var M=function(e){var t=Object(s.useState)(""),c=Object(j.a)(t,2),n=c[0],r=c[1];return Object(s.useEffect)((function(){I()("#chatList").append(I()("<li>").text(e.msg))}),[e.msg]),Object(a.jsxs)("div",{className:"chat",children:[Object(a.jsx)("ul",{id:"chatList"}),Object(a.jsxs)("form",{id:"chatForm",action:"",onSubmit:function(t){t.preventDefault(),""!==n&&(e.emitMsg(n),r(""))},children:[Object(a.jsx)("input",{id:"chatInput",autocomplete:"off",value:n,onChange:function(e){return r(e.target.value)}}),Object(a.jsx)("button",{id:"chatButton",children:"Send"})]})]})},N=c(61);var R,E=function(e){var t=Object(s.useState)({}),c=Object(j.a)(t,2),n=c[0],r=c[1];Object(s.useEffect)((function(){r(e.broadcast)}),[e.broadcast]);var i={height:"100%",width:"100%",playerVars:{enablejsapi:1,playsinline:1,"webkit-playsinline":1,autoplay:1,start:n.currentTime}};return Object(a.jsx)(N.a,{containerClassName:"videoplayer",onStateChange:function(e){0===e.data&&window.location.reload()},videoId:n.currentVideo,opts:i})},L=c(64),S=c.n(L);var W=function(e){var t=Object(s.useState)(""),c=Object(j.a)(t,2),n=c[0],r=c[1],i=Object(s.useState)({}),l=Object(j.a)(i,2),o=l[0],b=l[1];return Object(s.useEffect)((function(){return(R=S.a.connect()).emit("join",window.location.pathname),e.getBroadcast(window.location.pathname.slice(3)),R.on("chat message to client",(function(e){r(e)})),function(){R.close()}}),[]),Object(s.useEffect)((function(){b(e.broadcast)}),[e.broadcast]),Object(a.jsxs)("div",{className:"broadcast",children:[Object(a.jsx)(E,{broadcast:o}),Object(a.jsx)(M,{emitMsg:function(e){R.emit("chat message to server",{room:window.location.pathname,msg:e})},msg:n})]})},D=c(21),P=c(16);var Y=function(){var e=Object(u.f)(),t=Object(s.useState)({title:"",description:"",tags:"",owner:"",isReversed:!1,youtubePlaylists:""}),c=Object(j.a)(t,2),n=c[0],r=c[1];function i(e){var t=e.target.value;r(Object(P.a)(Object(P.a)({},n),{},Object(D.a)({},e.target.name,t)))}function l(){return(l=Object(b.a)(o.a.mark((function t(c){var a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api/create-broadcast",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(c)});case 3:if(!(a=t.sent).ok){t.next=11;break}return t.next=7,a.json();case 7:s=t.sent,e.push("/b/".concat(s.broadcastId)),t.next=12;break;case 11:e.push("/404");case 12:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))).apply(this,arguments)}return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"broadcastFormContainer",children:[Object(a.jsx)("h3",{children:"Create a new broadcast"}),Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==n.title?""!==n.owner?""!==n.youtubePlaylists?(!function(e){l.apply(this,arguments)}(n),r({title:"",description:"",tags:"",owner:"",youtubePlaylists:"",isReversed:!1})):alert("You have not specefied any youtube playlists!"):alert("Owner field required!"):alert("Title required!")},children:[Object(a.jsxs)("label",{children:["Broadcast name:",Object(a.jsx)("br",{}),Object(a.jsx)("input",{name:"title",value:n.title,onChange:i,type:"text"})]}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)("label",{children:["Description:",Object(a.jsx)("br",{}),Object(a.jsx)("input",{name:"description",value:n.description,onChange:i,type:"text"})]}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)("label",{children:["Tags:",Object(a.jsx)("br",{}),Object(a.jsx)("input",{name:"tags",value:n.tags,onChange:i,type:"text"})]}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)("label",{children:["Owner:",Object(a.jsx)("br",{}),Object(a.jsx)("input",{name:"owner",value:n.owner,onChange:i,type:"text"})]}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)("label",{children:["Playlists:",Object(a.jsx)("br",{}),Object(a.jsx)("input",{name:"youtubePlaylists",value:n.youtubePlaylists,onChange:i,type:"text"})]}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)("label",{children:["Want to reverse the queue order of the playlists?\xa0\xa0\xa0",Object(a.jsx)("input",{name:"isReversed",value:n.isReversed,onChange:function(e){var t;t="false"===e.target.value,r(Object(P.a)(Object(P.a)({},n),{},{isReversed:t}))},type:"checkbox"})]}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("button",{type:"submit",value:"Create",children:"Create Broadcast"})]})]})})};var F=function(){return Object(a.jsx)("h4",{style:{marginTop:"6vh"},children:"404 - Page or Broadcast not found on server"})};var G=function(){var e=Object(u.f)(),t=Object(s.useState)({broadcastId:""}),c=Object(j.a)(t,2),n=c[0],r=c[1];function i(){return(i=Object(b.a)(o.a.mark((function t(c){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api/delete-broadcast",{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(c)});case 3:t.sent.ok?console.log("Broadcast deleted!"):e.push("/404"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"broadcastFormContainer",children:[Object(a.jsx)("h3",{children:"Delete broadcast"}),Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==n.broadcastId?(!function(e){i.apply(this,arguments)}(n),r({broadcastId:""})):alert("Broadcast id required!")},children:[Object(a.jsxs)("label",{children:["Broadcast id:",Object(a.jsx)("br",{}),Object(a.jsx)("input",{name:"broadcastId",value:n.broadcastId,onChange:function(e){var t=e.target.value;r(Object(P.a)(Object(P.a)({},n),{},Object(D.a)({},e.target.name,t)))},type:"text"})]}),Object(a.jsx)("button",{type:"submit",value:"Delete",children:"Delete Broadcast"})]})]})})};var V=function(){var e=Object(s.useState)({}),t=Object(j.a)(e,2),c=t[0],n=t[1],r=Object(s.useState)("/b/:broadcast"),i=Object(j.a)(r,2),l=i[0],h=i[1],O=Object(s.useState)([]),x=Object(j.a)(O,2),p=x[0],m=x[1];return Object(a.jsxs)(d.a,{children:[Object(a.jsx)(y,{}),Object(a.jsx)("div",{className:"content",children:Object(a.jsxs)(u.c,{children:[Object(a.jsxs)(u.a,{exact:!0,path:"/",children:[" ",Object(a.jsx)(w,{allBroadcasts:p,getAllBroadcasts:function(){return v.apply(this,arguments)}})]}),Object(a.jsx)(u.a,{exact:!0,path:"/create-broadcast",children:Object(a.jsx)(Y,{})}),Object(a.jsx)(u.a,{exact:!0,path:"/delete-broadcast",children:Object(a.jsx)(G,{})}),Object(a.jsxs)(u.a,{exact:!0,path:l,children:[" ",Object(a.jsx)(W,{broadcast:c,getBroadcast:function(e){return g.apply(this,arguments)}})]}),Object(a.jsxs)(u.a,{exact:!0,path:"/404",children:[" ",Object(a.jsx)(F,{})]}),Object(a.jsxs)(u.a,{path:"/",children:[" ",Object(a.jsx)(F,{})]})]})})]});function v(){return(v=Object(b.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/get-all-broadcasts");case 3:if(!(t=e.sent).ok){e.next=11;break}return e.next=7,t.json();case 7:c=e.sent,m(c),e.next=12;break;case 11:h("/404");case 12:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function g(){return(g=Object(b.a)(o.a.mark((function e(t){var c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/get-broadcast",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({broadcastId:t})});case 3:if(!(c=e.sent).ok){e.next=11;break}return e.next=7,c.json();case 7:a=e.sent,n(a),e.next=12;break;case 11:h("/404");case 12:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}},z=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,135)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;c(e),a(e),s(e),n(e),r(e)}))};i.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(V,{})}),document.getElementById("root")),z()},70:function(e,t,c){},72:function(e,t,c){},90:function(e,t,c){}},[[134,1,2]]]);
//# sourceMappingURL=main.11257dd1.chunk.js.map